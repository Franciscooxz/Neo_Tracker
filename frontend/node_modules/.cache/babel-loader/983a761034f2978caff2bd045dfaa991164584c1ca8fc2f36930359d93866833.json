{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fran\\\\Desktop\\\\Neo_Tracker\\\\frontend\\\\src\\\\pages\\\\AsteroidListPage.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/pages/AsteroidListPage.jsx - VERSIÓN LIMPIA\nimport React, { useState, useEffect } from 'react';\nimport AsteroidList from '../components/asteroids/AsteroidList';\nimport { StatCardGrid, AsteroidStatCard } from '../components/ui/StatCard';\nimport { asteroidAPI, handleAPIError } from '../services/api';\n\n/**\r\n * AsteroidListPage - VERSIÓN LIMPIA sin header duplicado\r\n * ✅ Diseño consistente con el layout unificado\r\n * ✅ Manejo robusto de datos vacíos\r\n * ✅ Fallback data mejorado\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AsteroidListPage = () => {\n  _s();\n  // Estado principal\n  const [asteroids, setAsteroids] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [backendResponse, setBackendResponse] = useState(null); // Para debug\n  const [statistics, setStatistics] = useState({\n    total: 0,\n    dangerous: 0,\n    upcoming: 0,\n    large: 0\n  });\n\n  // Datos de ejemplo mejorados para cuando el backend devuelve vacío\n  const FALLBACK_ASTEROIDS = [{\n    id: \"54016476\",\n    name: \"(2020 SO)\",\n    is_potentially_hazardous_asteroid: false,\n    is_potentially_hazardous: false,\n    estimated_diameter: {\n      kilometers: {\n        estimated_diameter_min: 0.004,\n        estimated_diameter_max: 0.009\n      }\n    },\n    estimated_diameter_km_min: 0.004,\n    estimated_diameter_km_max: 0.009,\n    absolute_magnitude_h: 24.5,\n    close_approach_data: [{\n      close_approach_date: \"2024-12-01\",\n      miss_distance: {\n        kilometers: \"1234567\"\n      },\n      relative_velocity: {\n        kilometers_per_second: \"5.2\"\n      },\n      orbiting_body: \"Earth\"\n    }],\n    nasa_jpl_url: \"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=54016476\"\n  }, {\n    id: \"2465633\",\n    name: \"465633 (2009 JR5)\",\n    is_potentially_hazardous_asteroid: true,\n    is_potentially_hazardous: true,\n    estimated_diameter: {\n      kilometers: {\n        estimated_diameter_min: 0.8,\n        estimated_diameter_max: 1.8\n      }\n    },\n    estimated_diameter_km_min: 0.8,\n    estimated_diameter_km_max: 1.8,\n    absolute_magnitude_h: 17.2,\n    close_approach_data: [{\n      close_approach_date: \"2024-11-15\",\n      miss_distance: {\n        kilometers: \"7500000\"\n      },\n      relative_velocity: {\n        kilometers_per_second: \"8.9\"\n      },\n      orbiting_body: \"Earth\"\n    }],\n    nasa_jpl_url: \"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=2465633\"\n  }, {\n    id: \"2099942\",\n    name: \"99942 Apophis (2004 MN4)\",\n    is_potentially_hazardous_asteroid: true,\n    is_potentially_hazardous: true,\n    estimated_diameter: {\n      kilometers: {\n        estimated_diameter_min: 0.31,\n        estimated_diameter_max: 0.61\n      }\n    },\n    estimated_diameter_km_min: 0.31,\n    estimated_diameter_km_max: 0.61,\n    absolute_magnitude_h: 19.7,\n    close_approach_data: [{\n      close_approach_date: \"2029-04-13\",\n      miss_distance: {\n        kilometers: \"31000\"\n      },\n      relative_velocity: {\n        kilometers_per_second: \"7.42\"\n      },\n      orbiting_body: \"Earth\"\n    }],\n    nasa_jpl_url: \"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=2099942\"\n  }, {\n    id: \"3542519\",\n    name: \"542519 (2002 VE68)\",\n    is_potentially_hazardous_asteroid: false,\n    is_potentially_hazardous: false,\n    estimated_diameter: {\n      kilometers: {\n        estimated_diameter_min: 0.1,\n        estimated_diameter_max: 0.3\n      }\n    },\n    estimated_diameter_km_min: 0.1,\n    estimated_diameter_km_max: 0.3,\n    absolute_magnitude_h: 20.1,\n    close_approach_data: [{\n      close_approach_date: \"2024-10-30\",\n      miss_distance: {\n        kilometers: \"2100000\"\n      },\n      relative_velocity: {\n        kilometers_per_second: \"12.4\"\n      },\n      orbiting_body: \"Earth\"\n    }],\n    nasa_jpl_url: \"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3542519\"\n  }, {\n    id: \"3753\",\n    name: \"3753 Cruithne\",\n    is_potentially_hazardous_asteroid: false,\n    is_potentially_hazardous: false,\n    estimated_diameter: {\n      kilometers: {\n        estimated_diameter_min: 3.0,\n        estimated_diameter_max: 5.1\n      }\n    },\n    estimated_diameter_km_min: 3.0,\n    estimated_diameter_km_max: 5.1,\n    absolute_magnitude_h: 15.1,\n    close_approach_data: [{\n      close_approach_date: \"2025-04-20\",\n      miss_distance: {\n        kilometers: \"12500000\"\n      },\n      relative_velocity: {\n        kilometers_per_second: \"9.8\"\n      },\n      orbiting_body: \"Earth\"\n    }],\n    nasa_jpl_url: \"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3753\"\n  }];\n\n  // Función mejorada para normalizar datos \n  const normalizeAsteroidData = data => {\n    console.log('🔍 Raw backend data:', typeof data, data);\n    if (!data) {\n      console.log('⚠️ Data is null/undefined, using fallback');\n      return FALLBACK_ASTEROIDS;\n    }\n    if (Array.isArray(data) && data.length > 0) {\n      console.log('✅ Data is array with', data.length, 'items');\n      return data;\n    }\n    if (Array.isArray(data) && data.length === 0) {\n      console.log('⚠️ Data is empty array, using fallback');\n      return FALLBACK_ASTEROIDS;\n    }\n    if (typeof data === 'object') {\n      const possibleArrays = [data.asteroids, data.data, data.results, data.items, data.list, data.near_earth_objects];\n      for (const possibleArray of possibleArrays) {\n        if (Array.isArray(possibleArray) && possibleArray.length > 0) {\n          console.log('✅ Found array in object property:', possibleArray.length, 'items');\n          return possibleArray;\n        }\n      }\n      const objectKeys = Object.keys(data);\n      if (objectKeys.length === 0) {\n        console.log('⚠️ Backend returned empty object {}, using fallback data');\n        return FALLBACK_ASTEROIDS;\n      }\n      if (objectKeys.some(key => key.match(/^\\d{4}-\\d{2}-\\d{2}$/))) {\n        console.log('📅 Detected NASA NeoWs date format');\n        const allAsteroids = [];\n        objectKeys.forEach(date => {\n          if (Array.isArray(data[date])) {\n            allAsteroids.push(...data[date]);\n          }\n        });\n        return allAsteroids.length > 0 ? allAsteroids : FALLBACK_ASTEROIDS;\n      }\n      const values = Object.values(data);\n      if (values.length > 0 && values.every(item => item && typeof item === 'object' && (item.id || item.name))) {\n        console.log('✅ Converting object values to array:', values.length, 'items');\n        return values;\n      }\n    }\n    console.warn('⚠️ Could not normalize data, using fallback:', typeof data, data);\n    return FALLBACK_ASTEROIDS;\n  };\n\n  // Cargar datos al montar el componente\n  useEffect(() => {\n    loadAsteroids();\n  }, []);\n\n  // Función para cargar asteroides desde tu backend\n  const loadAsteroids = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log('🔄 Loading asteroids from API...');\n      const response = await asteroidAPI.getAll();\n      console.log('📡 Full API response:', response);\n      setBackendResponse(response.data);\n      const asteroidsData = normalizeAsteroidData(response.data);\n      console.log('📊 Final normalized asteroids:', asteroidsData.length, 'items');\n      setAsteroids(asteroidsData);\n      calculateStatistics(asteroidsData);\n    } catch (err) {\n      console.error('💥 Error loading asteroids:', err);\n      console.log('🔄 Using fallback data due to error');\n      setAsteroids(FALLBACK_ASTEROIDS);\n      calculateStatistics(FALLBACK_ASTEROIDS);\n      const errorInfo = handleAPIError(err);\n      setError(errorInfo);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Calcular estadísticas de los asteroides\n  const calculateStatistics = asteroidsData => {\n    if (!Array.isArray(asteroidsData)) {\n      console.warn('⚠️ calculateStatistics: data is not an array:', asteroidsData);\n      setStatistics({\n        total: 0,\n        dangerous: 0,\n        upcoming: 0,\n        large: 0\n      });\n      return;\n    }\n    try {\n      const stats = {\n        total: asteroidsData.length,\n        dangerous: asteroidsData.filter(a => (a === null || a === void 0 ? void 0 : a.is_potentially_hazardous_asteroid) || (a === null || a === void 0 ? void 0 : a.is_potentially_hazardous)).length,\n        upcoming: asteroidsData.filter(a => {\n          const approaches = (a === null || a === void 0 ? void 0 : a.close_approach_data) || (a === null || a === void 0 ? void 0 : a.approaches) || [];\n          return Array.isArray(approaches) && approaches.length > 0;\n        }).length,\n        large: asteroidsData.filter(a => {\n          var _a$estimated_diameter, _a$estimated_diameter2, _a$estimated_diameter3, _a$estimated_diameter4;\n          const minDiam = (a === null || a === void 0 ? void 0 : (_a$estimated_diameter = a.estimated_diameter) === null || _a$estimated_diameter === void 0 ? void 0 : (_a$estimated_diameter2 = _a$estimated_diameter.kilometers) === null || _a$estimated_diameter2 === void 0 ? void 0 : _a$estimated_diameter2.estimated_diameter_min) || (a === null || a === void 0 ? void 0 : a.estimated_diameter_km_min) || 0;\n          const maxDiam = (a === null || a === void 0 ? void 0 : (_a$estimated_diameter3 = a.estimated_diameter) === null || _a$estimated_diameter3 === void 0 ? void 0 : (_a$estimated_diameter4 = _a$estimated_diameter3.kilometers) === null || _a$estimated_diameter4 === void 0 ? void 0 : _a$estimated_diameter4.estimated_diameter_max) || (a === null || a === void 0 ? void 0 : a.estimated_diameter_km_max) || 0;\n          const avgDiameter = (minDiam + maxDiam) / 2;\n          return avgDiameter >= 1;\n        }).length\n      };\n      console.log('📈 Calculated statistics:', stats);\n      setStatistics(stats);\n    } catch (err) {\n      console.error('💥 Error calculating statistics:', err);\n      setStatistics({\n        total: 0,\n        dangerous: 0,\n        upcoming: 0,\n        large: 0\n      });\n    }\n  };\n\n  // Función de retry para errores\n  const handleRetry = () => {\n    loadAsteroids();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title-section\",\n          children: \"Estad\\xEDsticas del Cat\\xE1logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loadAsteroids,\n          disabled: loading,\n          className: `\n              btn-stellar flex items-center space-x-2\n              ${loading ? 'opacity-50 cursor-not-allowed' : ''}\n            `,\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-stellar w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Actualizando...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-4 h-4\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Actualizar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StatCardGrid, {\n        children: [/*#__PURE__*/_jsxDEV(AsteroidStatCard, {\n          metric: \"total\",\n          value: statistics.total,\n          subtitle: \"Total registrados\",\n          loading: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AsteroidStatCard, {\n          metric: \"dangerous\",\n          value: statistics.dangerous,\n          subtitle: \"Clasificados como peligrosos\",\n          loading: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AsteroidStatCard, {\n          metric: \"upcoming\",\n          value: statistics.upcoming,\n          subtitle: \"Con acercamientos programados\",\n          loading: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AsteroidStatCard, {\n          metric: \"large\",\n          value: statistics.large,\n          subtitle: \"Di\\xE1metro \\u2265 1 km\",\n          loading: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this), process.env.NODE_ENV === 'development' && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"glass-panel rounded-lg p-4 border border-yellow-500/20\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-sm font-medium text-yellow-300 mb-2 flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83D\\uDD27\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Informaci\\xF3n de Debug\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-yellow-200/70 space-y-1 font-mono\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u2022 Backend Response Type: \", typeof backendResponse]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u2022 Backend Response: \", JSON.stringify(backendResponse)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u2022 Processed Asteroids: \", Array.isArray(asteroids) ? asteroids.length : 'N/A', \" items\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u2022 Using Fallback: \", asteroids === FALLBACK_ASTEROIDS ? 'Yes' : 'No']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u2022 Loading: \", loading ? 'Yes' : 'No', \" | Error: \", error ? 'Yes' : 'No']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"title-section flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83C\\uDF11\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Cat\\xE1logo de Asteroides\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-3 text-sm\",\n          children: [!loading && !error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 text-green-400\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 bg-green-400 rounded-full animate-pulse\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Datos actualizados\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 text-yellow-400\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 bg-yellow-400 rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Usando datos de respaldo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AsteroidList, {\n        asteroids: asteroids,\n        loading: loading,\n        error: error,\n        onRetry: handleRetry,\n        showFilters: true,\n        showSearch: true,\n        pageSize: 12\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 5\n  }, this);\n};\n_s(AsteroidListPage, \"z7X0lid85ZndFqZd4yk2zhVgItM=\");\n_c = AsteroidListPage;\nexport default AsteroidListPage;\nvar _c;\n$RefreshReg$(_c, \"AsteroidListPage\");","map":{"version":3,"names":["React","useState","useEffect","AsteroidList","StatCardGrid","AsteroidStatCard","asteroidAPI","handleAPIError","jsxDEV","_jsxDEV","Fragment","_Fragment","AsteroidListPage","_s","asteroids","setAsteroids","loading","setLoading","error","setError","backendResponse","setBackendResponse","statistics","setStatistics","total","dangerous","upcoming","large","FALLBACK_ASTEROIDS","id","name","is_potentially_hazardous_asteroid","is_potentially_hazardous","estimated_diameter","kilometers","estimated_diameter_min","estimated_diameter_max","estimated_diameter_km_min","estimated_diameter_km_max","absolute_magnitude_h","close_approach_data","close_approach_date","miss_distance","relative_velocity","kilometers_per_second","orbiting_body","nasa_jpl_url","normalizeAsteroidData","data","console","log","Array","isArray","length","possibleArrays","results","items","list","near_earth_objects","possibleArray","objectKeys","Object","keys","some","key","match","allAsteroids","forEach","date","push","values","every","item","warn","loadAsteroids","response","getAll","asteroidsData","calculateStatistics","err","errorInfo","stats","filter","a","approaches","_a$estimated_diameter","_a$estimated_diameter2","_a$estimated_diameter3","_a$estimated_diameter4","minDiam","maxDiam","avgDiameter","handleRetry","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","fill","viewBox","fillRule","d","clipRule","metric","value","subtitle","process","env","NODE_ENV","JSON","stringify","onRetry","showFilters","showSearch","pageSize","_c","$RefreshReg$"],"sources":["C:/Users/Fran/Desktop/Neo_Tracker/frontend/src/pages/AsteroidListPage.jsx"],"sourcesContent":["// frontend/src/pages/AsteroidListPage.jsx - VERSIÓN LIMPIA\r\nimport React, { useState, useEffect } from 'react';\r\nimport AsteroidList from '../components/asteroids/AsteroidList';\r\nimport { StatCardGrid, AsteroidStatCard } from '../components/ui/StatCard';\r\nimport { asteroidAPI, handleAPIError } from '../services/api';\r\n\r\n/**\r\n * AsteroidListPage - VERSIÓN LIMPIA sin header duplicado\r\n * ✅ Diseño consistente con el layout unificado\r\n * ✅ Manejo robusto de datos vacíos\r\n * ✅ Fallback data mejorado\r\n */\r\n\r\nconst AsteroidListPage = () => {\r\n  // Estado principal\r\n  const [asteroids, setAsteroids] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [backendResponse, setBackendResponse] = useState(null); // Para debug\r\n  const [statistics, setStatistics] = useState({\r\n    total: 0,\r\n    dangerous: 0,\r\n    upcoming: 0,\r\n    large: 0\r\n  });\r\n\r\n  // Datos de ejemplo mejorados para cuando el backend devuelve vacío\r\n  const FALLBACK_ASTEROIDS = [\r\n    {\r\n      id: \"54016476\",\r\n      name: \"(2020 SO)\",\r\n      is_potentially_hazardous_asteroid: false,\r\n      is_potentially_hazardous: false,\r\n      estimated_diameter: {\r\n        kilometers: {\r\n          estimated_diameter_min: 0.004,\r\n          estimated_diameter_max: 0.009\r\n        }\r\n      },\r\n      estimated_diameter_km_min: 0.004,\r\n      estimated_diameter_km_max: 0.009,\r\n      absolute_magnitude_h: 24.5,\r\n      close_approach_data: [\r\n        {\r\n          close_approach_date: \"2024-12-01\",\r\n          miss_distance: {\r\n            kilometers: \"1234567\"\r\n          },\r\n          relative_velocity: {\r\n            kilometers_per_second: \"5.2\"\r\n          },\r\n          orbiting_body: \"Earth\"\r\n        }\r\n      ],\r\n      nasa_jpl_url: \"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=54016476\"\r\n    },\r\n    {\r\n      id: \"2465633\",\r\n      name: \"465633 (2009 JR5)\",\r\n      is_potentially_hazardous_asteroid: true,\r\n      is_potentially_hazardous: true,\r\n      estimated_diameter: {\r\n        kilometers: {\r\n          estimated_diameter_min: 0.8,\r\n          estimated_diameter_max: 1.8\r\n        }\r\n      },\r\n      estimated_diameter_km_min: 0.8,\r\n      estimated_diameter_km_max: 1.8,\r\n      absolute_magnitude_h: 17.2,\r\n      close_approach_data: [\r\n        {\r\n          close_approach_date: \"2024-11-15\",\r\n          miss_distance: {\r\n            kilometers: \"7500000\"\r\n          },\r\n          relative_velocity: {\r\n            kilometers_per_second: \"8.9\"\r\n          },\r\n          orbiting_body: \"Earth\"\r\n        }\r\n      ],\r\n      nasa_jpl_url: \"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=2465633\"\r\n    },\r\n    {\r\n      id: \"2099942\",\r\n      name: \"99942 Apophis (2004 MN4)\",\r\n      is_potentially_hazardous_asteroid: true,\r\n      is_potentially_hazardous: true,\r\n      estimated_diameter: {\r\n        kilometers: {\r\n          estimated_diameter_min: 0.31,\r\n          estimated_diameter_max: 0.61\r\n        }\r\n      },\r\n      estimated_diameter_km_min: 0.31,\r\n      estimated_diameter_km_max: 0.61,\r\n      absolute_magnitude_h: 19.7,\r\n      close_approach_data: [\r\n        {\r\n          close_approach_date: \"2029-04-13\",\r\n          miss_distance: {\r\n            kilometers: \"31000\"\r\n          },\r\n          relative_velocity: {\r\n            kilometers_per_second: \"7.42\"\r\n          },\r\n          orbiting_body: \"Earth\"\r\n        }\r\n      ],\r\n      nasa_jpl_url: \"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=2099942\"\r\n    },\r\n    {\r\n      id: \"3542519\",\r\n      name: \"542519 (2002 VE68)\",\r\n      is_potentially_hazardous_asteroid: false,\r\n      is_potentially_hazardous: false,\r\n      estimated_diameter: {\r\n        kilometers: {\r\n          estimated_diameter_min: 0.1,\r\n          estimated_diameter_max: 0.3\r\n        }\r\n      },\r\n      estimated_diameter_km_min: 0.1,\r\n      estimated_diameter_km_max: 0.3,\r\n      absolute_magnitude_h: 20.1,\r\n      close_approach_data: [\r\n        {\r\n          close_approach_date: \"2024-10-30\",\r\n          miss_distance: {\r\n            kilometers: \"2100000\"\r\n          },\r\n          relative_velocity: {\r\n            kilometers_per_second: \"12.4\"\r\n          },\r\n          orbiting_body: \"Earth\"\r\n        }\r\n      ],\r\n      nasa_jpl_url: \"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3542519\"\r\n    },\r\n    {\r\n      id: \"3753\",\r\n      name: \"3753 Cruithne\",\r\n      is_potentially_hazardous_asteroid: false,\r\n      is_potentially_hazardous: false,\r\n      estimated_diameter: {\r\n        kilometers: {\r\n          estimated_diameter_min: 3.0,\r\n          estimated_diameter_max: 5.1\r\n        }\r\n      },\r\n      estimated_diameter_km_min: 3.0,\r\n      estimated_diameter_km_max: 5.1,\r\n      absolute_magnitude_h: 15.1,\r\n      close_approach_data: [\r\n        {\r\n          close_approach_date: \"2025-04-20\",\r\n          miss_distance: {\r\n            kilometers: \"12500000\"\r\n          },\r\n          relative_velocity: {\r\n            kilometers_per_second: \"9.8\"\r\n          },\r\n          orbiting_body: \"Earth\"\r\n        }\r\n      ],\r\n      nasa_jpl_url: \"https://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3753\"\r\n    }\r\n  ];\r\n\r\n  // Función mejorada para normalizar datos \r\n  const normalizeAsteroidData = (data) => {\r\n    console.log('🔍 Raw backend data:', typeof data, data);\r\n    \r\n    if (!data) {\r\n      console.log('⚠️ Data is null/undefined, using fallback');\r\n      return FALLBACK_ASTEROIDS;\r\n    }\r\n    \r\n    if (Array.isArray(data) && data.length > 0) {\r\n      console.log('✅ Data is array with', data.length, 'items');\r\n      return data;\r\n    }\r\n    \r\n    if (Array.isArray(data) && data.length === 0) {\r\n      console.log('⚠️ Data is empty array, using fallback');\r\n      return FALLBACK_ASTEROIDS;\r\n    }\r\n    \r\n    if (typeof data === 'object') {\r\n      const possibleArrays = [\r\n        data.asteroids,\r\n        data.data,\r\n        data.results,\r\n        data.items,\r\n        data.list,\r\n        data.near_earth_objects\r\n      ];\r\n      \r\n      for (const possibleArray of possibleArrays) {\r\n        if (Array.isArray(possibleArray) && possibleArray.length > 0) {\r\n          console.log('✅ Found array in object property:', possibleArray.length, 'items');\r\n          return possibleArray;\r\n        }\r\n      }\r\n      \r\n      const objectKeys = Object.keys(data);\r\n      if (objectKeys.length === 0) {\r\n        console.log('⚠️ Backend returned empty object {}, using fallback data');\r\n        return FALLBACK_ASTEROIDS;\r\n      }\r\n      \r\n      if (objectKeys.some(key => key.match(/^\\d{4}-\\d{2}-\\d{2}$/))) {\r\n        console.log('📅 Detected NASA NeoWs date format');\r\n        const allAsteroids = [];\r\n        objectKeys.forEach(date => {\r\n          if (Array.isArray(data[date])) {\r\n            allAsteroids.push(...data[date]);\r\n          }\r\n        });\r\n        return allAsteroids.length > 0 ? allAsteroids : FALLBACK_ASTEROIDS;\r\n      }\r\n      \r\n      const values = Object.values(data);\r\n      if (values.length > 0 && values.every(item => item && typeof item === 'object' && (item.id || item.name))) {\r\n        console.log('✅ Converting object values to array:', values.length, 'items');\r\n        return values;\r\n      }\r\n    }\r\n    \r\n    console.warn('⚠️ Could not normalize data, using fallback:', typeof data, data);\r\n    return FALLBACK_ASTEROIDS;\r\n  };\r\n\r\n  // Cargar datos al montar el componente\r\n  useEffect(() => {\r\n    loadAsteroids();\r\n  }, []);\r\n\r\n  // Función para cargar asteroides desde tu backend\r\n  const loadAsteroids = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      console.log('🔄 Loading asteroids from API...');\r\n\r\n      const response = await asteroidAPI.getAll();\r\n      console.log('📡 Full API response:', response);\r\n      \r\n      setBackendResponse(response.data);\r\n\r\n      const asteroidsData = normalizeAsteroidData(response.data);\r\n      console.log('📊 Final normalized asteroids:', asteroidsData.length, 'items');\r\n\r\n      setAsteroids(asteroidsData);\r\n      calculateStatistics(asteroidsData);\r\n    } catch (err) {\r\n      console.error('💥 Error loading asteroids:', err);\r\n      console.log('🔄 Using fallback data due to error');\r\n      \r\n      setAsteroids(FALLBACK_ASTEROIDS);\r\n      calculateStatistics(FALLBACK_ASTEROIDS);\r\n      \r\n      const errorInfo = handleAPIError(err);\r\n      setError(errorInfo);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Calcular estadísticas de los asteroides\r\n  const calculateStatistics = (asteroidsData) => {\r\n    if (!Array.isArray(asteroidsData)) {\r\n      console.warn('⚠️ calculateStatistics: data is not an array:', asteroidsData);\r\n      setStatistics({ total: 0, dangerous: 0, upcoming: 0, large: 0 });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const stats = {\r\n        total: asteroidsData.length,\r\n        dangerous: asteroidsData.filter(a => \r\n          a?.is_potentially_hazardous_asteroid || a?.is_potentially_hazardous\r\n        ).length,\r\n        upcoming: asteroidsData.filter(a => {\r\n          const approaches = a?.close_approach_data || a?.approaches || [];\r\n          return Array.isArray(approaches) && approaches.length > 0;\r\n        }).length,\r\n        large: asteroidsData.filter(a => {\r\n          const minDiam = a?.estimated_diameter?.kilometers?.estimated_diameter_min || \r\n                         a?.estimated_diameter_km_min || 0;\r\n          const maxDiam = a?.estimated_diameter?.kilometers?.estimated_diameter_max || \r\n                         a?.estimated_diameter_km_max || 0;\r\n          const avgDiameter = (minDiam + maxDiam) / 2;\r\n          return avgDiameter >= 1;\r\n        }).length\r\n      };\r\n\r\n      console.log('📈 Calculated statistics:', stats);\r\n      setStatistics(stats);\r\n    } catch (err) {\r\n      console.error('💥 Error calculating statistics:', err);\r\n      setStatistics({ total: 0, dangerous: 0, upcoming: 0, large: 0 });\r\n    }\r\n  };\r\n\r\n  // Función de retry para errores\r\n  const handleRetry = () => {\r\n    loadAsteroids();\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      \r\n      {/* SECCIÓN DE ESTADÍSTICAS COMPACTA */}\r\n      <section>\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h2 className=\"title-section\">Estadísticas del Catálogo</h2>\r\n          \r\n          {/* Botón de actualización elegante */}\r\n          <button\r\n            onClick={loadAsteroids}\r\n            disabled={loading}\r\n            className={`\r\n              btn-stellar flex items-center space-x-2\r\n              ${loading ? 'opacity-50 cursor-not-allowed' : ''}\r\n            `}\r\n          >\r\n            {loading ? (\r\n              <>\r\n                <div className=\"loading-stellar w-4 h-4\"></div>\r\n                <span>Actualizando...</span>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n                <span>Actualizar</span>\r\n              </>\r\n            )}\r\n          </button>\r\n        </div>\r\n        \r\n        <StatCardGrid>\r\n          <AsteroidStatCard\r\n            metric=\"total\"\r\n            value={statistics.total}\r\n            subtitle=\"Total registrados\"\r\n            loading={loading}\r\n          />\r\n          <AsteroidStatCard\r\n            metric=\"dangerous\"\r\n            value={statistics.dangerous}\r\n            subtitle=\"Clasificados como peligrosos\"\r\n            loading={loading}\r\n          />\r\n          <AsteroidStatCard\r\n            metric=\"upcoming\"\r\n            value={statistics.upcoming}\r\n            subtitle=\"Con acercamientos programados\"\r\n            loading={loading}\r\n          />\r\n          <AsteroidStatCard\r\n            metric=\"large\"\r\n            value={statistics.large}\r\n            subtitle=\"Diámetro ≥ 1 km\"\r\n            loading={loading}\r\n          />\r\n        </StatCardGrid>\r\n      </section>\r\n\r\n      {/* DEBUG INFO ELEGANTE (solo en desarrollo) */}\r\n      {process.env.NODE_ENV === 'development' && (\r\n        <section className=\"glass-panel rounded-lg p-4 border border-yellow-500/20\">\r\n          <h3 className=\"text-sm font-medium text-yellow-300 mb-2 flex items-center space-x-2\">\r\n            <span>🔧</span>\r\n            <span>Información de Debug</span>\r\n          </h3>\r\n          <div className=\"text-xs text-yellow-200/70 space-y-1 font-mono\">\r\n            <p>• Backend Response Type: {typeof backendResponse}</p>\r\n            <p>• Backend Response: {JSON.stringify(backendResponse)}</p>\r\n            <p>• Processed Asteroids: {Array.isArray(asteroids) ? asteroids.length : 'N/A'} items</p>\r\n            <p>• Using Fallback: {asteroids === FALLBACK_ASTEROIDS ? 'Yes' : 'No'}</p>\r\n            <p>• Loading: {loading ? 'Yes' : 'No'} | Error: {error ? 'Yes' : 'No'}</p>\r\n          </div>\r\n        </section>\r\n      )}\r\n\r\n      {/* SECCIÓN PRINCIPAL DE ASTEROIDES */}\r\n      <section>\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h2 className=\"title-section flex items-center space-x-2\">\r\n            <span>🌑</span>\r\n            <span>Catálogo de Asteroides</span>\r\n          </h2>\r\n          \r\n          {/* Indicador de estado sutil */}\r\n          <div className=\"flex items-center space-x-3 text-sm\">\r\n            {!loading && !error && (\r\n              <div className=\"flex items-center space-x-2 text-green-400\">\r\n                <div className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"></div>\r\n                <span>Datos actualizados</span>\r\n              </div>\r\n            )}\r\n            \r\n            {error && (\r\n              <div className=\"flex items-center space-x-2 text-yellow-400\">\r\n                <div className=\"w-2 h-2 bg-yellow-400 rounded-full\"></div>\r\n                <span>Usando datos de respaldo</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <AsteroidList\r\n          asteroids={asteroids}\r\n          loading={loading}\r\n          error={error}\r\n          onRetry={handleRetry}\r\n          showFilters={true}\r\n          showSearch={true}\r\n          pageSize={12}\r\n        />\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AsteroidListPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}